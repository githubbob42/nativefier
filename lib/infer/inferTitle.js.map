{"version":3,"sources":["infer/inferTitle.js"],"names":["inferTitle","url","callback","options","headers","error","response","body","statusCode","$","load","pageTitle","first","text","replace"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,SAASA,UAAT,CAAoBC,GAApB,EAAyBC,QAAzB,EAAmC;AAC/B,QAAMC,UAAU;AACZF,aAAKA,GADO;AAEZG,iBAAS;AACL;AACA,0BAAc;AAFT;AAFG,KAAhB;;AAQA,2BAAQD,OAAR,EAAiB,UAACE,KAAD,EAAQC,QAAR,EAAkBC,IAAlB,EAA2B;AACxC,YAAIF,SAASC,SAASE,UAAT,KAAwB,GAArC,EAA0C;AACtCN,yCAA2BG,KAA3B,uBAAiDC,WAAWA,SAASE,UAApB,GAAiC,aAAlF;AACA;AACH;;AAED,YAAMC,IAAI,kBAAQC,IAAR,CAAaH,IAAb,CAAV;AACA,YAAMI,YAAYF,EAAE,OAAF,EAAWG,KAAX,GAAmBC,IAAnB,GAA0BC,OAA1B,CAAkC,KAAlC,EAAyC,EAAzC,CAAlB;AACAZ,iBAAS,IAAT,EAAeS,SAAf;AACH,KATD;AAUH;;kBAEcX,U","file":"infer/inferTitle.js","sourcesContent":["import request from 'request';\nimport cheerio from 'cheerio';\n\nfunction inferTitle(url, callback) {\n    const options = {\n        url: url,\n        headers: {\n            // fake a user agent because pages like http://messenger.com will throw 404 error\n            'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.1 Safari/537.36'\n        }\n    };\n\n    request(options, (error, response, body) => {\n        if (error || response.statusCode !== 200) {\n            callback(`Request Error: ${error}, Status Code ${response ? response.statusCode : 'No Response'}`);\n            return;\n        }\n\n        const $ = cheerio.load(body);\n        const pageTitle = $('title').first().text().replace(/\\//g, '');\n        callback(null, pageTitle);\n    });\n}\n\nexport default inferTitle;\n"],"sourceRoot":"/source/"}